# Shelldone — Roadmap (Q4 2025)

## Vision
Make Shelldone the benchmark terminal platform: uncompromising quality, extreme performance, rich customisation, deep AI integration, and IDE-grade visuals.

## Quarterly Phases
1. **Codebase Hardening**
   - Finish `cargo fmt` / `clippy -D warnings` cleanup across the workspace.
  - Lock in performance budgets (`docs/architecture/perf-budget.md`).
  - Elevate `make verify` to strict mode (perf smoke, security, docs checks).

2. **Plugin Architecture & Customisation**
  - Stabilise the render/input/mux APIs and document them in `docs/architecture/customization-and-plugins.md`.
  - Ship the extension loader and core SDK.
  - Provide examples: themes, file manager, automation playbooks.

3. **AI & Automation**
  - Deliver the MCP/gRPC bridge (`docs/architecture/ai-integration.md`).
  - Define security policies for agent scenarios (`config/policies/`).
  - Build UI for observing and approving agent actions.

4. **Animation & Visual Effects Platform**
  - Introduce the new render loop and effects engine (`docs/architecture/animation-framework.md`).
  - Release a reference pack of effects plus adaptive presets.
  - Provide CLI/GUI tooling for authoring and publishing effects.

5. **IDE Functionality & Developer Experience**
  - File manager, LSP hub, DAP integration (plugin-driven).
  - Improve documentation (`docs/architecture/README.md`, `docs/community/contributor-handbook.md`).
  - Automate releases and feedback loops (issue triage, opt-in telemetry).

## Success Metrics
- `make verify VERIFY_MODE=ci` finishes under 15 minutes with zero warnings.
- Input-to-render ≤ 20 ms, tab switch ≤ 80 ms (see perf budget).
- At least 3 demo plugins and 5 public effects.
- MCP integration executes an end-to-end scenario (playbook → deploy).

## Program Snapshot — 5 October 2025
- Overall progress 16 % (`agentcall status`, health: yellow). Next milestone **QA Hardening** due **2025-10-31**.
- Active epics: **epic-qa-hardening** 67 % (verify perf probes underway), **epic-ai-automation** 16 % (TermBridge discovery, sync watcher, backpressure).
- Top delivery focus: MCP bridge contract tests, TermBridge sync/backpressure, QA perf probes automation.

## Execution Waves
| Wave | Scope | Key Deliverables | Exit Criteria |
| --- | --- | --- | --- |
| 1 — Foundations | Σ-pty proxy, Σ-cap handshake, ACK core commands, Continuum baseline, Prism telemetry skeleton | UTIF-Σ MVP, policy sandbox, k6 perf baselines (`p95 ≤ 15 ms`, `p99 ≤ 25 ms`) | `agent.exec` + OSC133 tagging stable, Continuum restore ≤ 150 ms, policy denials logged |
| 2 — Copilot Experience | Persona engine (Nova/Core/Flux), adaptive hints, policy approvals, Observability dashboards | Persona configs, ACK guard flows, Prism dashboards, clipboard broker | UX studies SUS ≥ 85 (Nova), policy prompt latency ≤ 40 ms |
| 3 — Hyper Reality | Distributed Continuum sync, collaborative agent sessions, marketplace hooks | Multi-session sync, capability marketplace spec, remote MCP federation | Cross-device restore ≤ 200 ms, marketplace ADR accepted |

## Organisation
- Epic ownership tracked in issues (`labels: roadmap/q4-2025`).
- Interim notes live in `docs/ROADMAP/notes/`.
- Every architectural decision requires an ADR (`docs/architecture/adr/`).

## Epic Map
| Epic ID | Title | Status | Priority | Size | Progress | Scope |
| --- | --- | --- | --- | --- | --- | --- |
| epic-qa-hardening | QA Pipeline and Quality Budgets | in_progress | P0 | 20 | 57% | scripts/**, ci/**, docs/architecture/perf-budget.md, docs/community/** |
| epic-plugin-platform | Plugin Architecture and IDE Layer | planned | P0 | 20 | 0% | plugins/**, docs/architecture/customization-and-plugins.md, shelldone-gui/**, mux/** |
| epic-ai-automation | AI Integration and Agent Workflows | in_progress | P1 | 13 | 22% | docs/architecture/ai-integration.md, shelldone-client/**, mux/**, docs/community/communications.md |
| epic-animation-engine | High-performance Animation Engine | planned | P1 | 13 | 0% | docs/architecture/animation-framework.md, shelldone-gui/**, termwiz/**, docs/recipes/animations.md |
| epic-ide-dx | IDE Functionality and DX | planned | P2 | 8 | 0% | term/**, docs/recipes/workflows.md, docs/community/contributor-handbook.md, plugins/examples/** |
| epic-platform-resilience | Resilience, Security, and Operations | planned | P0 | 20 | 0% | docs/architecture/state-and-storage.md, docs/architecture/security-and-secrets.md, docs/architecture/observability.md, docs/architecture/release-and-compatibility.md |

## Task Table
| Task ID | Epic | Type | Size | Status | Progress | Scope |
| --- | --- | --- | --- | --- | --- | --- |
| task-qa-orchestrator | epic-qa-hardening | ops | 8 | done | 100% | scripts/verify.py, scripts/verify.sh, Makefile |
| task-qa-perf-probes | epic-qa-hardening | perf | 5 | planned | 0% | docs/architecture/perf-budget.md, ci/**, artifacts/perf/** |
| task-qa-marker-baseline | epic-qa-hardening | ops | 5 | done | 100% | qa/baselines/banned_markers.json, scripts/verify.py |
| task-plugin-sdk | epic-plugin-platform | feature | 13 | planned | 0% | plugins/sdk/**, docs/architecture/customization-and-plugins.md, docs/recipes/plugins.md |
| task-plugin-examples | epic-plugin-platform | doc | 5 | planned | 0% | plugins/examples/**, docs/recipes/plugins.md |
| task-mcp-bridge | epic-ai-automation | feature | 8 | in_progress | 50% | docs/architecture/ai-integration.md, shelldone-client/**, mux/** |
| task-agent-policy | epic-ai-automation | doc | 5 | planned | 0% | docs/community/communications.md, docs/architecture/ai-integration.md |
| task-animation-core | epic-animation-engine | perf | 8 | planned | 0% | docs/architecture/animation-framework.md, shelldone-gui/**, termwiz/** |
| task-animation-toolkit | epic-animation-engine | feature | 5 | planned | 0% | docs/recipes/animations.md, plugins/examples/**, docs/architecture/animation-framework.md |
| task-ide-file-manager | epic-ide-dx | feature | 8 | planned | 0% | term/**, docs/recipes/workflows.md, plugins/examples/** |
| task-state-persistence | epic-platform-resilience | feature | 8 | planned | 0% | docs/architecture/state-and-storage.md, shelldone/** |
| task-security-hardening | epic-platform-resilience | perf | 5 | planned | 0% | docs/architecture/security-and-secrets.md, lua-api-crates/**, plugins/** |
| task-observability-pipeline | epic-platform-resilience | ops | 5 | planned | 0% | docs/architecture/observability.md, scripts/verify.py, ci/** |
| task-release-hardening | epic-platform-resilience | ops | 5 | planned | 0% | docs/architecture/release-and-compatibility.md, ci/**, scripts/ship/** |
| task-security-agent-gov | epic-ai-automation | doc | 5 | planned | 0% | docs/architecture/security-and-secrets.md, docs/architecture/ai-integration.md, config/policies/** |
| task-observability-reports | epic-plugin-platform | doc | 5 | planned | 0% | docs/architecture/observability.md, docs/recipes/plugins.md |
| task-observability-visual | epic-animation-engine | feature | 5 | planned | 0% | docs/architecture/observability.md, shelldone-gui/src/termwindow/** |
| task-state-sync-ui | epic-ide-dx | feature | 5 | planned | 0% | docs/architecture/state-and-storage.md, shelldone-gui/src/** |
| task-utif-sigma-foundation | epic-platform-resilience | ops | 8 | planned | 0% | docs/architecture/utif-sigma.md, scripts/perf/**, policies/**, shelldone-*/src/** |
| task-persona-engine | epic-ai-automation | feature | 8 | planned | 0% | config/personas/**, docs/architecture/utif-sigma.md, shelldone-gui/** |
| task-agent-microsoft | epic-ai-automation | feature | 5 | planned | 0% | agents/microsoft/**, docs/architecture/ai-integration.md, scripts/agentd.py |
| task-marketplace-hooks | epic-plugin-platform | feature | 5 | planned | 0% | docs/architecture/utif-sigma.md, docs/architecture/plugin-marketplace.md, docs/recipes/plugins.md, plugins/registry/** |
| task-termbridge-discovery | epic-ai-automation | feature | 5 | in_progress | 33% | docs/architecture/termbridge.md, shelldone-agentd/src/adapters/termbridge/mod.rs, shelldone-agentd/src/adapters/termbridge/terminals/**, shelldone-agentd/src/adapters/mcp/grpc.rs |
| task-termbridge-core | epic-ai-automation | feature | 8 | in_progress | 50% | docs/architecture/termbridge.md, docs/architecture/observability.md, docs/architecture/security-and-secrets.md, shelldone-agentd/src/app/termbridge/**, shelldone-agentd/src/adapters/termbridge/terminals/** |
| task-termbridge-test-suite | epic-qa-hardening | ops | 5 | planned | 0% | scripts/tests/termbridge_matrix.py, ci/** |
